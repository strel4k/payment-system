<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <style>
      .system-box { fill: #1168bd; stroke: #0e4884; stroke-width: 3; }
      .external-box { fill: #999; stroke: #666; stroke-width: 2; }
      .user-box { fill: #08427b; stroke: #052e56; stroke-width: 2; }
      .text-title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: white; }
      .text-desc { font-family: Arial, sans-serif; font-size: 12px; fill: white; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-text { font-family: Arial, sans-serif; font-size: 11px; fill: #333; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    C4 Context Diagram ‚Äî Payment System
  </text>
  
  <!-- User -->
  <rect class="user-box" x="50" y="100" width="200" height="120" rx="10"/>
  <text class="text-title" x="150" y="140" text-anchor="middle">üë§ User</text>
  <text class="text-desc" x="150" y="165" text-anchor="middle">End user registering</text>
  <text class="text-desc" x="150" y="185" text-anchor="middle">and using the system</text>
  
  <!-- Payment System Box -->
  <rect fill="#e6f3ff" stroke="#1168bd" stroke-width="3" x="350" y="80" width="500" height="280" rx="10"/>
  <text font-family="Arial" font-size="16" font-weight="bold" x="600" y="105" text-anchor="middle" fill="#1168bd">
    Payment System
  </text>
  
  <!-- Individuals API -->
  <rect class="system-box" x="380" y="130" width="200" height="100" rx="8"/>
  <text class="text-title" x="480" y="165" text-anchor="middle">Individuals API</text>
  <text class="text-desc" x="480" y="185" text-anchor="middle">Orchestrator: auth,</text>
  <text class="text-desc" x="480" y="200" text-anchor="middle">registration, coordination</text>
  
  <!-- Person Service -->
  <rect class="system-box" x="620" y="130" width="200" height="100" rx="8"/>
  <text class="text-title" x="720" y="165" text-anchor="middle">Person Service</text>
  <text class="text-desc" x="720" y="185" text-anchor="middle">Manages persons,</text>
  <text class="text-desc" x="720" y="200" text-anchor="middle">addresses, CRUD + audit</text>
  
  <!-- Keycloak -->
  <rect class="external-box" x="920" y="100" width="220" height="100" rx="8"/>
  <text class="text-title" x="1030" y="135" text-anchor="middle">üîê Keycloak</text>
  <text class="text-desc" x="1030" y="155" text-anchor="middle">Authentication &</text>
  <text class="text-desc" x="1030" y="170" text-anchor="middle">Authorization (OAuth2/JWT)</text>
  
  <!-- Observability -->
  <rect class="external-box" x="920" y="240" width="220" height="100" rx="8"/>
  <text class="text-title" x="1030" y="275" text-anchor="middle">üìä Observability</text>
  <text class="text-desc" x="1030" y="295" text-anchor="middle">Prometheus, Grafana,</text>
  <text class="text-desc" x="1030" y="310" text-anchor="middle">Loki, Tempo</text>
  
  <!-- Nexus -->
  <rect class="external-box" x="350" y="420" width="220" height="100" rx="8"/>
  <text class="text-title" x="460" y="455" text-anchor="middle">üì¶ Nexus OSS</text>
  <text class="text-desc" x="460" y="475" text-anchor="middle">Artifact repository for</text>
  <text class="text-desc" x="460" y="490" text-anchor="middle">person-service-client</text>
  
  <!-- Arrows -->
  <!-- User -> Individuals API -->
  <path class="arrow" d="M 250 160 L 380 180"/>
  <text class="arrow-text" x="300" y="160">Uses (HTTPS/REST)</text>
  
  <!-- Individuals API -> Person Service -->
  <path class="arrow" d="M 580 180 L 620 180"/>
  <text class="arrow-text" x="585" y="170">Creates/updates</text>
  <text class="arrow-text" x="585" y="185">person data</text>
  
  <!-- Individuals API -> Keycloak -->
  <path class="arrow" d="M 580 150 L 920 150"/>
  <text class="arrow-text" x="720" y="140">Registers users,</text>
  <text class="arrow-text" x="720" y="155">authenticates</text>
  
  <!-- Individuals API -> Observability -->
  <path class="arrow" d="M 580 200 L 920 290"/>
  <text class="arrow-text" x="730" y="240">Exports metrics,</text>
  <text class="arrow-text" x="730" y="255">logs, traces</text>
  
  <!-- Person Service -> Observability -->
  <path class="arrow" d="M 820 200 L 920 290"/>
  <text class="arrow-text" x="850" y="240">Exports metrics,</text>
  <text class="arrow-text" x="850" y="255">logs, traces</text>
  
  <!-- Individuals API -> Nexus -->
  <path class="arrow" d="M 460 230 L 460 420"/>
  <text class="arrow-text" x="470" y="330">Fetches</text>
  <text class="arrow-text" x="470" y="345">person-service-client</text>
  
  <!-- Legend -->
  <text x="50" y="600" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Legend:</text>
  <rect class="user-box" x="50" y="620" width="30" height="20" rx="3"/>
  <text x="90" y="635" font-family="Arial" font-size="12" fill="#333">User/Actor</text>
  
  <rect class="system-box" x="200" y="620" width="30" height="20" rx="3"/>
  <text x="240" y="635" font-family="Arial" font-size="12" fill="#333">Internal System</text>
  
  <rect class="external-box" x="380" y="620" width="30" height="20" rx="3"/>
  <text x="420" y="635" font-family="Arial" font-size="12" fill="#333">External System</text>
</svg>
