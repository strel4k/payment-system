C4Context
    title System Context diagram for Payment System

    Person(user, "User", "End user registering<br/>and using the system")

    System_Boundary(payment_system, "Payment System") {
        System(individuals_api, "Individuals API", "Orchestrator service:<br/>handles authentication,<br/>user registration,<br/>and coordinates person data")
        System(person_service, "Person Service", "Manages person entities,<br/>addresses, and individuals<br/>(CRUD + audit)")
    }

    System_Ext(keycloak, "Keycloak", "Authentication &<br/>Authorization server<br/>(OAuth2/JWT)")

    System_Ext(observability, "Observability Stack", "Prometheus, Grafana,<br/>Loki, Tempo<br/>(metrics, logs, traces)")

    System_Ext(nexus, "Nexus OSS", "Artifact repository<br/>for person-service-client")

    Rel(user, individuals_api, "Uses", "HTTPS/REST")
    Rel(individuals_api, person_service, "Creates/updates person data", "HTTP/REST")
    Rel(individuals_api, keycloak, "Registers users,<br/>authenticates", "HTTP/Admin API")

    Rel(individuals_api, observability, "Exports metrics,<br/>logs, traces", "OTLP/HTTP")
    Rel(person_service, observability, "Exports metrics,<br/>logs, traces", "OTLP/HTTP")

    Rel(individuals_api, nexus, "Fetches person-service-client", "Maven HTTP")

    UpdateLayoutConfig($c4ShapeInRow="3", $c4BoundaryInRow="2")